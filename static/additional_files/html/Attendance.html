<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script type="text/javascript" src="./lib/jquery-3.3.1.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../css/data.css">
    <title>Attendance</title>
</head>
<script>
    var url_string = window.location;
    var url = new URL(url_string);
    var c = url.searchParams.get("str");
    // console.log(c);

    function insert() {
        $.ajax({
            url: "../../static/Data/json/CS_"+c+".json",
            dataType: "json",
            success: function (data) {
                $(data).each(function (index, value) {
                    var count = 0,
                        i, h, a;
                    h = parseInt(value.Hours);
                    a = parseInt(value.Absent);
                    for (i = 0; i < 10; i++) {
                        if ((h + 1) - (a + 1) * 4 >= 0) {
                            count++;
                            h++;
                            a++;
                        }
                    }
                    var rec = value.Courese_title + " ( " + value.Percent + " %) ";
                    var rec1 = value.Absent + " out of " + value.Hours;
                    var rec3 = value.Absent * 4 - value.Hours + " you need to attend";
                    var count = count + " you can miss";
                    if (value.Slot == "A") {
                        $("#a1").append(rec);
                        $("#a2").append(rec1);
                        if (parseInt(value.Percent) >= 75)
                            $("#a3").append(count);
                        else
                            $("#a3").append(rec3);
                    }
                    if (value.Slot == "B") {
                        $("#b1").append(rec);
                        $("#b2").append(rec1);
                        if (parseInt(value.Percent) >= 75)
                            $("#b3").append(count);
                        else
                            $("#b3").append(rec3);
                    }
                    if (value.Slot == "C") {
                        $("#c1").append(rec);
                        $("#c2").append(rec1);
                        if (parseInt(value.Percent) >= 75)
                            $("#c3").append(count);
                        else
                            $("#c3").append(rec3);
                    }
                    if (value.Slot == "D") {
                        $("#d1").append(rec);
                        $("#d2").append(rec1);
                        if (parseInt(value.Percent) >= 75)
                            $("#d3").append(count);
                        else
                            $("#d3").append(rec3);
                    }
                    if (value.Slot == "E") {
                        $("#e1").append(rec);
                        $("#e2").append(rec1);
                        if (parseInt(value.Percent) >= 75)
                            $("#e3").append(count);
                        else
                            $("#e3").append(rec3);
                    }
                    if (value.Slot == "F") {
                        $("#f1").append(rec);
                        $("#f2").append(rec1);
                        if (parseInt(value.Percent) >= 75)
                            $("#f3").append(count);
                        else
                            $("#f3").append(rec3);
                    }
                    if (value.Slot == "G") {
                        $("#g1").append(rec);
                        $("#g2").append(rec1);
                        if (parseInt(value.Percent) >= 75)
                            $("#g3").append(count);
                        else
                            $("#g3").append(rec3);
                    }


                });

            }
        });

    }
</script>

<body onload="insert()">
    <section>

    </section>
    <section class="container" style="padding-top:2%;padding-bottom: 2%;margin-right:%;">
        <div>
            <h1 style="text-align: center;">Attendance</h1>
            <hr style="width:20%;color: black;">

        </div>
        <div class="row" style="text-align: center;padding-top: 3%;">

            <div class="col-md-6" style="background-color:#f1c40f;height: 140px;">
                <div style="padding-top:0%;color: white;">
                    <h4 id="a1"></h4>
                    <h4 id="a2">Absent : </h4>
                    <h4 id="a3">Classes : </h4>
                </div>


            </div>
            <div class="col-md-1" style="margin: 0 -78px 0 0;"></div>
            <div class="col-md-5" style="background-color:#74b9ff;height: 140px;">
                <div style="padding-top:0%;color: white;">
                    <h4 id="b1"></h4>
                    <h4 id="b2">Absent : </h4>
                    <h4 id="b3">Classes : </h4>
                </div>

            </div>
        </div>
        <div class="row" style="text-align: center;padding-top: 1%;height: 140px;">

            <div class="col-md-7" style="background-color:#e17055;height: 140px;">
                <div style="padding-top:0%;color: white;">
                    <h4 id="c1"></h4>
                    <h4 id="c2">Absent : </h4>
                    <h4 id="c3">Classes : </h4>
                </div>


            </div>
            <div class="col-md-1" style="margin: 0 -78px 0 0;"></div>

            <div class="col-md-4" style="background-color:#535c68;height: 140px;">
                <div style="padding-top:0%;color: white;">
                    <h4 id="d1"></h4>
                    <h4 id="d2">Absent : </h4>
                    <h4 id="d3">Classes : </h4>
                </div>


            </div>
        </div>
        <div class="row" style="text-align: center;padding-top: 2%;padding-bottom:12.5%;height: 125px;">

            <div class="col-md-5" style="background-color:#b2bec3;">
                <div style="padding-top:0%;color: white;">
                    <h4 id="e1"></h4>
                    <h4 id="e2">Absent : </h4>
                    <h4 id="e3">Classes : </h4>
                </div>


            </div>
            <div class="col-md-1" style="margin: 0 -78px 0 0;"></div>

            <div class="col-md-6" style="background-color:#00cec9;height: 125px;">
                <div style="padding-top:0%;color: white;">
                    <h4 id="f1"></h4>
                    <h4 id="f2">Absent : </h4>
                    <h4 id="f3">Classes : </h4>
                </div>


            </div>
            <!-- </div>
            <div class="row" style="text-align: center;padding-top: 3%;">

                    <div class="col-md-6" style="background-color:#f1c40f;height: 140px;">
                        <div style="padding-top:0%;color: white;">
                          <h4 id=""></h4>
                          <h4 id="a2">Absent : </h4><h4 id="a3">Classes : </h4>
                         </div>
          
          
                    </div>
                    <div class="col-md-1" style="margin: 0 -78px 0 0;"></div>
                    <div class="col-md-5" style="background-color:#74b9ff;height: 140px;">
                        <div style="padding-top:0%;color: white;">  <h4 id="b1"></h4>
                          <h4 id="b2">Absent : </h4><h4 id="b3">Classes : </h4>
                      </div>
          
                      </div>
            </div>
            <div class="row" style="text-align: center;padding-top: 1%;height: 140px;">

                    <div class="col-md-7" style="background-color:#e17055;height: 140px;">
                        <div style="padding-top:0%;color: white;">  <h4 id="c1"></h4>
                            <h4 id="c2">Absent : </h4><h4 id="c3">Classes : </h4> </div>
        
        
                    </div>
                    <div class="col-md-1" style="margin: 0 -78px 0 0;"></div>
        
                    <div class="col-md-4" style="background-color:#535c68;height: 140px;">
                        <div style="padding-top:0%;color: white;">  <h4 id="d1"></h4>
                            <h4 id="d2">Absent : </h4><h4 id="d3">Classes : </h4></div>
        
        
                      </div>
            </div> -->

            <div class="d1"
                style="text-align: center;background-color:#686de0;	height: 125px;width: 1062px;margin-left: -14px;">

                <div style="padding-top:0%;color: white;">
                    <h4 id="g1"></h4>
                    <h4 id="g2">Absent : </h4>
                    <h4 id="g3">Classes : </h4>
                </div>


            </div>

    </section>


</body>

</html>